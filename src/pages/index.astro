---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
import Matrix from "../components/Matrix.astro";
import FormattedDate from "../components/FormattedDate.astro";
import { getCollection } from "astro:content";

const posts = (await getCollection("event"))
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
  .slice(0, 3);
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <body class="dark:bg-neutral-900 antialiased">
    <Matrix />
    <Header />
    <main class="min-h-screen">
      <!-- Hero -->
      <section>
        <div class="relative">
          <div class="max-w-[85rem] mx-auto px-4 sm:px-6 lg:px-8 pt-24 pb-10">
            <!-- Title -->
            <div class="mt-5 max-w-4xl text-center mx-auto">
              <h1
                class="block font-bold text-gray-800 text-3xl sm:text-4xl md:text-5xl lg:text-6xl dark:text-neutral-200"
              >
                <span
                  class="bg-clip-text bg-gradient-to-r from-indigo-500 to-pink-500 text-transparent"
                  >CSE Batch 23</span
                >
                <br />
                <span
                  class="bg-clip-text bg-gradient-to-r from-pink-500 to-indigo-500 text-transparent"
                  >University of Moratuwa</span
                >
              </h1>
            </div>
            <!-- End Title -->

            <div class="mt-5 max-w-3xl text-center mx-auto">
              <p class="text-xl text-gray-600 dark:text-neutral-400">
                Welcome to the official website of Batch 23, Department of
                Computer Science & Engineering, University of Moratuwa.
              </p>
            </div>
          </div>
        </div>
      </section>
      <!-- End Hero -->

      <section>
        <!-- Features -->
        <div class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
          <div class="overflow-hidden rounded-xl">
            <img
              class="w-full object-cover transition-transform duration-500 ease-in-out hover:scale-105"
              style="aspect-ratio:16/7"
              src="/images/group.webp"
              alt="Features Image"
            />
          </div>

          <section class="py-10">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
              <div class="max-w-2xl mx-auto text-center mb-10 lg:mb-14">
                <h2
                  class="text-2xl font-bold md:text-4xl md:leading-tight dark:text-white"
                >
                  Our projects
                </h2>
                <p class="mt-1 text-gray-600 dark:text-neutral-400">
                  Check out our latest projects and initiatives.
                </p>
              </div>

              <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
                <!-- Card 1 -->
                <div
                  class="w-full max-w-sm border border-gray-200 rounded-xl mx-auto hover:scale-105 transition-transform duration-500 ease-in-out backdrop-blur-sm dark:border-gray-800 dark:focus:border-transparent bg-indigo-400 dark:bg-indigo-700 dark:bg-opacity-10 bg-clip-padding backdrop-filter bg-opacity-10"
                >
                  <div class="flex flex-col items-center pb-10 pt-6">
                    <img
                      class="w-32 h-32 mb-3 rounded-full"
                      src="/images/projects/kuppihub.png"
                      alt="Kuppi hub image"
                    />
                    <h5
                      class="mb-1 text-xl font-medium text-gray-900 dark:text-white"
                    >
                      Kuppi Hub
                    </h5>
                    <div class="flex mt-4 md:mt-6">
                      <a
                        href="https://kuppihub.cse23.org/"
                        class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-indigo-500 to-pink-500 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
                        >Open</a
                      >
                    </div>
                  </div>
                </div>

                <!-- Card 2 -->
                <div
                  class="w-full max-w-sm border border-gray-200 rounded-xl shadow-sm dark:border-gray-700 mx-auto hover:scale-110 transition-transform duration-500 ease-in-out backdrop-blur-sm dark:border-gray-800 dark:focus:border-transparent bg-indigo-400 dark:bg-indigo-700 dark:bg-opacity-10 bg-clip-padding backdrop-filter bg-opacity-10"
                >
                  <div class="flex flex-col items-center pb-10 pt-6">
                    <img
                      class="w-32 h-32 mb-3 rounded-full"
                      src="/images/projects/techtide.png"
                      alt="Bonnie image"
                    />
                    <h5
                      class="mb-1 text-xl font-medium text-gray-900 dark:text-white"
                    >
                      Tech Tide
                    </h5>
                    <div class="flex mt-4 md:mt-6">
                      <a
                        href="https://sites.google.com/cse.mrt.ac.lk/techtideweeklybycse23/home"
                        class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-indigo-500 to-pink-500 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
                        >Open</a
                      >
                    </div>
                  </div>
                </div>

                <!-- Card 3 -->
                <div
                  class="w-full max-w-sm border border-gray-200 rounded-xl shadow-sm dark:border-gray-700 mx-auto hover:scale-110 transition-transform duration-500 ease-in-out backdrop-blur-sm dark:border-gray-800 dark:focus:border-transparent bg-indigo-400 dark:bg-indigo-700 dark:bg-opacity-10 bg-clip-padding backdrop-filter bg-opacity-10"
                >
                  <div class="flex flex-col items-center pb-10 pt-6">
                    <img
                      class="w-32 h-32 mb-3 rounded-full"
                      src="/images/projects/knowledgehub.png"
                      alt="Bonnie image"
                    />
                    <h5
                      class="mb-1 text-xl font-medium text-gray-900 dark:text-white"
                    >
                     Knowledge Hub
                    </h5>
                    <div class="flex mt-4 md:mt-6">
                      <a
                        href="https://learn.cse23.org/"
                        class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-indigo-500 to-pink-500 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
                        >Open</a
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <!-- Grid -->
          <div
            class="mt-5 lg:mt-16 grid lg:grid-cols-3 gap-8 lg:gap-12 backdrop-blur-sm"
          >
            <div
              class="lg:col-span-1 hover:scale-110 transition-transform duration-500 ease-in-out"
            >
              <h2
                class="font-bold text-2xl md:text-3xl text-gray-800 dark:text-neutral-200"
              >
                Our Initiatives
              </h2>
              <p class="mt-2 md:mt-4 text-gray-500 dark:text-neutral-500">
                We are committed to making a positive impact in our community
                and beyond. Our initiatives include:
              </p>
            </div>
            <!-- End Col -->

            <div class="lg:col-span-2">
              <div class="grid sm:grid-cols-2 gap-8 md:gap-12">
                <!-- Icon Block -->
                <div
                  class="flex gap-x-5 hover:scale-110 transition-transform duration-500 ease-in-out"
                >
                  <svg
                    class="shrink-0 mt-1 size-6 text-indigo-800 dark:text-indigo-500"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="size-6"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"
                    ></path>
                  </svg>

                  <div class="grow">
                    <h3
                      class="text-lg font-semibold text-gray-800 dark:text-white"
                    >
                      Kuppi Hub
                    </h3>
                    <p class="mt-1 text-gray-600 dark:text-neutral-400">
                      All in one platform for batchmates to share and access
                      educational resources, including notes, past papers, and
                      other study materials. Kuppi Hub is a platform where we
                      host past video recordings and notes related to kuppi
                      sessions conducted by our batchmates.
                    </p>
                  </div>
                </div>
                <!-- End Icon Block -->

                <!-- Icon Block -->
                <div
                  class="flex gap-x-5 hover:scale-110 transition-transform duration-500 ease-in-out"
                >
                  <svg
                    class="shrink-0 mt-1 size-6 text-indigo-800 dark:text-indigo-500"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="size-6"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z"
                    ></path>
                  </svg>

                  <div class="grow">
                    <h3
                      class="text-lg font-semibold text-gray-800 dark:text-white"
                    >
                      Techtide Article Series
                    </h3>
                    <p class="mt-1 text-gray-600 dark:text-neutral-400">
                      A series of articles written by our batchmates to share
                      knowledge and insights on various topics related to
                      technology and computer science.
                    </p>
                  </div>
                </div>
                <!-- End Icon Block -->
              </div>
            </div>
            <!-- End Col -->
          </div>
          <!-- End Grid -->
        </div>
        <!-- End Features -->
      </section>

      <div class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
        <!-- Title -->
        <div class="max-w-2xl mx-auto text-center mb-10 lg:mb-14">
          <h2
            class="text-2xl font-bold md:text-4xl md:leading-tight dark:text-white"
          >
            Latest Events
          </h2>
          <p class="mt-1 text-gray-600 dark:text-neutral-400">
            Check out our latest contributions to the community.
          </p>
        </div>
        <!-- End Title -->

        <!-- Grid -->
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
          {
            posts.map((post) => (
              <a
                class="group flex flex-col h-full border border-gray-200 hover:scale-105 transition-transform duration-500 ease-in-out backdrop-blur-sm focus:outline-none focus:border-transparent rounded-xl dark:border-gray-800 dark:focus:border-transparent bg-indigo-400 dark:bg-indigo-700 dark:bg-opacity-10 bg-clip-padding backdrop-filter bg-opacity-10"
                href={`/event/${post.id}/`}
              >
                <div class="aspect-w-16 aspect-h-11">
                  <img
                    class="w-full object-cover rounded-t-xl"
                    src={post.data.heroImage}
                    alt="Blog Image"
                  />
                </div>
                <div class="px-4 md:px-5">
                  <div class="my-6">
                    <h3 class="text-xl font-semibold text-gray-800 dark:text-neutral-300 dark:group-hover:text-white">
                      {post.data.title}
                    </h3>
                    <p class="mt-5 text-gray-600 dark:text-neutral-400">
                      {post.data.description}
                    </p>
                    <p class="mt-5 align-bottom text-xs text-gray-500 dark:text-neutral-500">
                      <FormattedDate date={post.data.pubDate} />
                    </p>
                  </div>
                </div>
              </a>
            ))
          }
        </div>
        <!-- End Grid -->

        <div class="mt-12 text-center">
          <a
            class="py-3 px-4 inline-flex items-center gap-x-1 text-sm font-medium rounded-full border border-gray-200 bg-white text-blue-600 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-blue-500 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800"
            href="/event/"
          >
            View More
            <svg
              class="shrink-0 size-4"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"><path d="m9 18 6-6-6-6"></path></svg
            >
          </a>
        </div>
      </div>
    </main>
    <Footer />
  </body>
</html>
